<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Making Legends Chess Academy</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
    <script src="https://unpkg.com/chessboardjs"></script>
</head>
<body>
    <div id="main-menu">
        <div class="sidebar">
            <h2>Navigation</h2>
            <ul>
                <li><a href="#" onclick="startLesson('lesson1')">Lesson 1: Checkmating with the Queen</a></li>
                <li><a href="#" onclick="startLesson('lesson2')">Lesson 2: Coming Soon</a></li>
                <li><a href="#" onclick="startPuzzles()">Puzzles</a></li>
            </ul>
        </div>

        <div class="main-content">
            <header>
                <h1>Welcome to Making Legends Chess Academy</h1>
                <p>Learn, play, and improve your chess skills!</p>
            </header>
        </div>
    </div>

    <div id="lesson1" class="lesson-screen" style="display: none;">
        <h2>Lesson 1: Checkmating with the Queen</h2>
        <p id="lesson-text">Step 1: Use the queen to control space and push the enemy king to the board’s edge.</p>
        <div id="chessboard" style="width: 400px;"></div>
        <button onclick="previousPosition()">Previous</button>
        <button onclick="nextPosition()">Next</button>
        <button onclick="exitLesson()">Exit Lesson</button>
    </div>

    <script>
        var chess = new Chess();
        var board;
        var currentStep = 0;
        var lessonMoves = [
            "d2d4", "e2e4", "d1h5", "h5h8"
        ];
        var lessonTexts = [
            "Step 1: Use the queen to control space and push the enemy king to the board’s edge.",
            "Step 2: Bring your king closer to help with the checkmate.",
            "Step 3: Use the queen to create a 'box' that forces the enemy king into a corner.",
            "Final Step: Deliver checkmate with the queen while your king controls escape squares!"
        ];

        function startLesson(lesson) {
            document.getElementById("main-menu").style.display = "none";
            document.getElementById(lesson).style.display = "block";
            board = Chessboard('chessboard', {
                position: 'start',
                draggable: false
            });
        }

        function nextPosition() {
            if (currentStep < lessonMoves.length) {
                chess.move(lessonMoves[currentStep]);
                board.position(chess.fen());
                document.getElementById("lesson-text").textContent = lessonTexts[currentStep];
                currentStep++;
            } else {
                alert("Lesson Complete! Returning to main menu.");
                exitLesson();
            }
        }

        function previousPosition() {
            if (currentStep > 0) {
                currentStep--;
                chess.undo();
                board.position(chess.fen());
                document.getElementById("lesson-text").textContent = lessonTexts[currentStep];
            }
        }

        function exitLesson() {
            document.getElementById("lesson1").style.display = "none";
            document.getElementById("main-menu").style.display = "block";
            chess.reset();
            currentStep = 0;
        }
    </script>
</body>
</html>
